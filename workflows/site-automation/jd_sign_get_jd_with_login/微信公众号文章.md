# 告别手动签到！用n8n打造京东自动签到神器

## 前言

每天手动签到领京豆，是不是觉得很麻烦？忘记签到的日子，看着别人攒下的京豆，心里是不是有点小遗憾？今天给大家分享一个神器——基于n8n的京东自动签到工作流，让你彻底告别手动签到的烦恼。

## 什么是n8n？

n8n是一个强大的工作流自动化平台，类似于Zapier，但它是开源的，可以部署在自己的服务器上。通过n8n，我们可以将各种重复性的任务自动化，比如我们今天要实现的京东自动签到。

## 工作流功能亮点

### 核心功能
- **自动签到**：无需人工干预，系统自动执行京豆签到
- **智能登录**：通过二维码方式实现安全登录
- **实时通知**：签到结果自动推送到飞书群
- **定时执行**：支持自定义执行时间，不错过任何签到机会

### 技术特色
- 使用Puppeteer模拟真实浏览器操作
- 集成飞书API实现消息通知
- 支持Docker部署，稳定可靠

## 工作流程详解

### 第一步：定时触发
工作流默认在三个时间点自动执行：
- 上午9:00
- 中午12:30  
- 晚上19:30

这个时间安排很人性化，覆盖了用户的主要活跃时段，确保不会错过签到机会。

### 第二步：获取访问令牌
系统会自动获取飞书API的访问令牌，为后续的消息通知做准备。这一步完全自动化，用户无需关心技术细节。

### 第三步：智能登录签到
这是整个工作流的核心环节：

1. **检测登录状态**：系统首先检查是否已经登录
2. **生成登录二维码**：如果需要登录，系统会自动获取登录二维码
3. **发送到飞书**：二维码会自动发送到指定的飞书群
4. **等待扫码**：系统会等待20秒，给用户足够时间扫码登录
5. **执行签到**：登录成功后，自动执行签到操作
6. **获取余额**：记录签到前后的京豆余额变化

### 第四步：结果通知
签到完成后，系统会根据结果发送不同的通知：
- **成功通知**：显示签到前后的京豆余额变化
- **失败通知**：说明失败原因，便于排查问题

## 配置指南

### 环境准备
1. **Chrome浏览器**：需要安装Chrome浏览器
2. **飞书机器人**：配置飞书机器人获取webhook地址
3. **飞书应用**：创建飞书应用获取app_id和app_secret

### 关键配置

#### Chrome调试配置
首先需要启动Chrome的调试模式：

```bash
"C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --remote-debugging-address=0.0.0.0 --user-data-dir="C:\chrome-remote-profile"
```

然后在浏览器中访问 `http://localhost:9222/json/version`，获取webSocketDebuggerUrl，并将localhost替换为host.docker.internal。

#### 工作流参数配置
在const节点中配置以下关键参数：
- webSocketDebuggerUrl：Chrome调试地址
- feishuRobotUrl：飞书机器人地址
- app_id：飞书应用ID
- app_secret：飞书应用密钥

## 使用体验

### 优势分析
1. **完全自动化**：一次配置，长期受益
2. **安全可靠**：使用二维码登录，无需存储密码
3. **实时反馈**：每次签到都有详细的结果通知
4. **灵活配置**：可以根据个人习惯调整执行时间

### 注意事项
1. **首次使用**：需要手动扫码登录一次
2. **网络环境**：确保网络连接稳定
3. **执行时间**：建议在用户活跃时间执行，便于及时处理登录二维码

## 技术原理

### Puppeteer技术
工作流使用Puppeteer控制Chrome浏览器，模拟真实用户的点击和操作。这种方式比API调用更稳定，不容易被反爬虫机制检测。

### 飞书集成
通过飞书API实现消息通知，用户可以在手机上实时查看签到状态，非常方便。

### 定时调度
n8n的定时触发器功能确保工作流在指定时间自动执行，无需人工干预。

## 扩展应用

这个工作流的思路可以应用到其他场景：
- **其他平台签到**：可以修改为其他电商平台的签到
- **数据采集**：可以用于采集网页数据
- **自动化测试**：可以用于网站功能测试

## 总结

通过n8n工作流实现京东自动签到，不仅解决了手动签到的麻烦，还提供了完整的通知机制。这种自动化方案既实用又安全，是现代工作流自动化的典型应用。

对于经常忘记签到的朋友来说，这绝对是一个值得尝试的解决方案。一次配置，长期受益，让科技真正为生活服务。

## 技术栈
- n8n：工作流自动化平台
- Puppeteer：浏览器自动化控制
- 飞书API：消息通知服务

## 相关资源
- n8n官方文档：https://docs.n8n.io/
- 飞书开放平台：https://open.feishu.cn/

---

*本文介绍的工作流仅供学习交流使用，请遵守相关平台的使用条款。* 